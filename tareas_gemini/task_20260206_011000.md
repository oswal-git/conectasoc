# Task: Implement Pull-to-Refresh on Home Screen

Enable users to refresh the article list by pulling down on the home screen.

## Workflow Status

- [x] Research and Planning <!-- id: 0 -->
- [x] Implement BLoC support for background refresh <!-- id: 1 -->
- [x] Add `RefreshIndicator` to `ArticleListWidget` <!-- id: 2 -->
- [x] Feature: Association List Pull-to-Refresh <!-- id: 19 -->
    - [x] Update `AssociationState` with `isLoading` flag <!-- id: 20 -->
    - [x] Add `RefreshAssociations` event and handler <!-- id: 21 -->
    - [x] Update `AssociationListPage` UI <!-- id: 22 -->
- [x] Verification and testing <!-- id: 3 -->
- [x] Security: Role-Based Access Control for Editing <!-- id: 23 -->
- [x] Fix: Update `lastLoginDate` on every login <!-- id: 27 -->
- [x] Bug: Fix Superadmin "Unknown Association" and Article Creation <!-- id: 28 -->
    - [x] Filter `superadmin_access` in `AuthBloc` <!-- id: 29 -->
    - [x] Fix superadmin article creation in `ArticleEditBloc` <!-- id: 30 -->
- [x] Bug: Fix Article Visibility in Edit Mode <!-- id: 31 -->
    - [x] Superadmin: View ALL (any status, author, assoc) <!-- id: 32 -->
    - [x] Admin: View ALL in their assoc (any status, author) <!-- id: 33 -->
    - [x] Editor: View OWN in their assoc (any status) <!-- id: 34 -->

## Detailed Breakdown

- [x] **Planning** <!-- id: 4 -->
    - [x] Analyze `HomeBloc` for current loading logic <!-- id: 5 -->
    - [x] Check `ArticleListWidget` for `RefreshIndicator` placement <!-- id: 6 -->
- [x] **BLoC Implementation** <!-- id: 7 -->
    - [x] Modify `_onLoadHomeData` in `home_bloc.dart` to support background refresh <!-- id: 8 -->
- [x] **UI Implementation** <!-- id: 9 -->
    - [x] Wrap `ListView` in `ArticleListWidget` with `RefreshIndicator` <!-- id: 10 -->
    - [x] Connect `onRefresh` to `LoadHomeData` event <!-- id: 11 -->
- [x] **Verification** <!-- id: 12 -->
    - [x] Manual test: Pull to refresh on home screen <!-- id: 13 -->
    - [x] Verify that articles, categories, and associations are re-fetched <!-- id: 14 -->
- [x] Bug Fix: User List Stuck Spinner <!-- id: 15 -->
    - [x] Update `UserListState` with `isLoading` flag <!-- id: 16 -->
    - [x] Update `UserListBloc` to emit loading state on refresh <!-- id: 17 -->
    - [x] Update `UserListPage` refresh logic <!-- id: 18 -->
